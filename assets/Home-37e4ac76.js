import{u as L,o as G,a as l,c as b,b as g,d as K,s as O,r as q,e as y,f as Q,w as H,g as T,F as U,h as X,i as u,j as N,p as Y,k as Z}from"./index-e8f9d956.js";import{_ as ee,u as te,a as ae,E as oe,N as se,p as o,S as ne,b as le,c as ie,d as re,e as ce,f as ue,g as de}from"./navigation.min-29ba1fce.js";const pe={class:"flex justify-center items-center w-full h-full"},fe=g("div",{class:"p-5 bg-white bg-opacity-70 shadow-inner shadow-lg relative"},[g("h1",{class:"mb-2 text-lg text-justify"},"非常感謝您的填寫"),g("main",{class:"mb-3"},"3秒後將自動跳轉至相簿"),g("div",{class:"text-[0.8rem] leading-snug text-right absolute right-1 bottom-1"}," 林奕辰 & 吳亞如 ")],-1),he=[fe],ve={__name:"Thanks",emits:["toNextPage"],setup(f,{emit:s}){const d=L();return G(()=>{setTimeout(()=>{d.push("photoAlbum")},3e3)}),(h,w)=>(l(),b("article",pe,he))}};const _e=f=>(Y("data-v-1bebcf1a"),f=f(),Z(),f),ge={class:"bg-slate-50 layout flex items-center text-center"},xe=_e(()=>g("div",{class:"bg-wrapper absolute top-0 left-0 w-full h-full -z-10"},null,-1)),me={__name:"Home",setup(f){K(e=>({b5ad8280:F.value}));const s=te(),d=O(s),h=q(!1),w=[oe,se];ae();const p=q(null);y(()=>"grid-cols-1");const F=y(()=>"18rem"),W=e=>{var $,k,E,I,M,V,j,R,C,B;const{activeIndex:a,previousIndex:t}=e,i=($=o[a])==null?void 0:$.validation;(k=o[a])==null||k.jumpTo;const n=(E=o[a])==null?void 0:E.name,r=(I=d[n])==null?void 0:I.value,m=(M=o[a])==null?void 0:M.type;console.log("00000");const c=(V=o[t])==null?void 0:V.validation,v=(j=o[t])==null?void 0:j.jumpTo,P=(R=o[t])==null?void 0:R.name,_=(C=d[P])==null?void 0:C.value,J=(B=o[t])==null?void 0:B.type;if(i&&!i(r)&&(e.allowSlideNext=!1),h.value=!1,(c&&!c(_)||!v&&a-t!==1)&&e.slideTo(e.previousIndex),c&&c(_)&&v&&v(_)){const S=v(_)-1;console.log("to",S),e.slideTo(S,300,!1),s.$patch({path:[...s.path,v(_)-1]})}else s.$patch({path:[...s.path,a]});m==="input"&&(console.log("name",n),document.querySelector(`input[name=${n}]`).focus()),J==="input"&&document.querySelector(`input[name=${P}]`).blur()},z=e=>{var r,m,c;const a=(r=o[e.activeIndex])==null?void 0:r.validation,t=(m=o[e.activeIndex])==null?void 0:m.name,i=(c=d[t])==null?void 0:c.value;!a||a(i)?e.allowSlideNext=!0:e.allowSlideNext=!1;const n=s.path[s.path.length-2];s.$patch({path:s.path.slice(0,-1)}),e.slideTo(n,300,!1)},A=e=>{p.value=e},x=(e,a)=>{a&&e.validation&&e.validation(a)&&(p.value.allowSlideNext=!0,e.jumpTo?p.value.slideTo(e.jumpTo(a)-1):p.value.slideNext()),e.validation||(p.value.allowSlideNext=!0,p.value.slideNext()),e.name==="備註"&&s.post()},D=y(()=>{var r;const e=s.path[s.path.length-1],a=o[e].name,t=(r=d[a])==null?void 0:r.value,i=!o[e].validation,n=o[e].validation&&o[e].validation(t);return s.path.length===1||n||i});return(e,a)=>(l(),b("div",ge,[Q(T(ne),{onSwiper:A,onSlideNextTransitionStart:W,onSlidePrevTransitionStart:z,effect:"cards",cardsEffect:{perSlideRotate:1},grabCursor:!0,modules:w,navigation:D.value},{default:H(()=>[(l(!0),b(U,null,X(T(o),(t,i)=>(l(),u(T(le),{key:t.question,"data-bg":i!==0},{default:H(()=>[xe,t.type==="mainPage"?(l(),u(ie,{key:0})):N("",!0),t.type==="welcomePage"?(l(),u(re,{key:1,onToNextPage:n=>x(t)},null,8,["onToNextPage"])):N("",!0),t.type==="input"?(l(),u(ce,{key:2,data:t,isShowErrorMsg:h.value,onToNextPage:n=>x(t,n)},null,8,["data","isShowErrorMsg","onToNextPage"])):t.type==="dropdown"?(l(),u(ue,{key:3,data:t,isShowErrorMsg:h.value,onToNextPage:n=>x(t,n)},null,8,["data","isShowErrorMsg","onToNextPage"])):t.type==="yesNo"?(l(),u(de,{key:4,data:t,isShowErrorMsg:h.value,onToNextPage:n=>x(t,n)},null,8,["data","isShowErrorMsg","onToNextPage"])):N("",!0),t.type==="thanks"?(l(),u(ve,{key:5})):N("",!0)]),_:2},1032,["data-bg"]))),128))]),_:1},8,["navigation"])]))}},ye=ee(me,[["__scopeId","data-v-1bebcf1a"]]);export{ye as default};
