import{o as l,c as T,a as m,u as J,s as L,r as j,b as N,d as A,w as C,e as y,F as G,f as K,g as d,h as S,p as O,i as Q}from"./index-e41147c3.js";import{_ as U,u as X,a as Y,E as Z,N as ee,p as s,S as ae,b as te,c as oe,d as se,e as ne,f as le,g as ie}from"./navigation.min-d4b39303.js";const re={class:"flex justify-center items-center w-full h-full"},ce=m("div",{class:"p-5 bg-white bg-opacity-70 shadow-inner shadow-lg relative"},[m("h1",{class:"mb-1 text-sm text-justify"},"非常感謝您的填寫"),m("main",{class:"text-[0.6rem] leading-snug text-right absolute right-1 bottom-1"}," 林奕辰 & 吳亞如 ")],-1),ue=[ce],de={__name:"Thanks",emits:["toNextPage"],setup(f,{emit:o}){return(v,p)=>(l(),T("article",re,ue))}};const pe=f=>(O("data-v-19c8bd8e"),f=f(),Q(),f),fe={class:"bg-slate-50 h-full flex justify-center items-center text-center"},ve=pe(()=>m("div",{class:"bg-wrapper absolute top-0 left-0 w-full h-full -z-10"},null,-1)),_e={__name:"Home",setup(f){J(e=>({af99b816:q.value}));const o=X(),v=L(o),p=j(!1),R=[Z,ee],{gridCols:B}=Y(),r=j(null);console.log("gridCols.value",B.value),N(()=>"grid-cols-1");const q=N(()=>"18rem"),H=e=>{var w,b,P,$,k,E,I,M,V;const{activeIndex:t,previousIndex:a}=e,i=(w=s[t])==null?void 0:w.validation;(b=s[t])==null||b.jumpTo;const n=(P=s[t])==null?void 0:P.name,c=($=v[n])==null?void 0:$.value,x=(k=s[t])==null?void 0:k.type,u=(E=s[a])==null?void 0:E.validation,_=(I=s[a])==null?void 0:I.jumpTo,D=(M=s[a])==null?void 0:M.name,h=(V=v[D])==null?void 0:V.value;i&&!i(c)&&(e.allowSlideNext=!1),p.value=!1,x==="input"&&document.querySelector(`input[name=${n}]`).focus(),(u&&!u(h)||!_&&t-a!==1)&&e.slideTo(e.previousIndex),u&&u(h)&&_&&_(h)?(e.slideTo(_(h)-1,300,!1),o.$patch({path:[...o.path,_(h)-1]})):o.$patch({path:[...o.path,t]})},F=e=>{var c,x,u;const t=(c=s[e.activeIndex])==null?void 0:c.validation,a=(x=s[e.activeIndex])==null?void 0:x.name,i=(u=v[a])==null?void 0:u.value;!t||t(i)?e.allowSlideNext=!0:e.allowSlideNext=!1;const n=o.path[o.path.length-2];o.$patch({path:o.path.slice(0,-1)}),e.slideTo(n,300,!1)},W=e=>{r.value=e},g=(e,t)=>{t&&e.validation&&e.validation(t)&&(r.value.allowSlideNext=!0,e.jumpTo?r.value.slideTo(e.jumpTo(t)):r.value.slideNext()),e.validation&&!e.validation(t)&&(r.value.allowSlideNext=!1,p.value=!0,document.querySelector(`input[name=${e.name}]`).focus()),e.validation||(r.value.allowSlideNext=!0,r.value.slideNext()),e.name==="備註"&&o.post()},z=N(()=>{var c;const e=o.path[o.path.length-1],t=s[e].name,a=(c=v[t])==null?void 0:c.value,i=!s[e].validation,n=s[e].validation&&s[e].validation(a);return o.path.length===1||n||i});return(e,t)=>(l(),T("div",fe,[A(y(ae),{onSwiper:W,onSlideNextTransitionStart:H,onSlidePrevTransitionStart:F,effect:"cards",cardsEffect:{perSlideRotate:1},grabCursor:!0,modules:R,navigation:z.value},{default:C(()=>[(l(!0),T(G,null,K(y(s),(a,i)=>(l(),d(y(te),{key:a.question,"data-bg":i!==0},{default:C(()=>[ve,a.type==="mainPage"?(l(),d(oe,{key:0})):S("",!0),a.type==="welcomePage"?(l(),d(se,{key:1,onToNextPage:n=>g(a)},null,8,["onToNextPage"])):S("",!0),a.type==="input"?(l(),d(ne,{key:2,data:a,isShowErrorMsg:p.value,onToNextPage:n=>g(a,n)},null,8,["data","isShowErrorMsg","onToNextPage"])):a.type==="dropdown"?(l(),d(le,{key:3,data:a,isShowErrorMsg:p.value,onToNextPage:n=>g(a,n)},null,8,["data","isShowErrorMsg","onToNextPage"])):a.type==="yesNo"?(l(),d(ie,{key:4,data:a,isShowErrorMsg:p.value,onToNextPage:n=>g(a,n)},null,8,["data","isShowErrorMsg","onToNextPage"])):S("",!0),a.type==="thanks"?(l(),d(de,{key:5})):S("",!0)]),_:2},1032,["data-bg"]))),128))]),_:1},8,["navigation"])]))}},Se=U(_e,[["__scopeId","data-v-19c8bd8e"]]);export{Se as default};
